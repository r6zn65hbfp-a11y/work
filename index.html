<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>æ‰¾ä¸€æ‰¾å°æ¸¸æˆ | Find the Spot</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      background: #f5f5f5;
    }

    header {
      margin-top: 24px;
      text-align: center;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 24px;
    }

    p.subtitle {
      margin: 0 0 16px;
      color: #555;
      font-size: 14px;
    }

    #game-container {
      margin-top: 12px;
      margin-bottom: 16px;
      position: relative;
      display: inline-block;
      background: #fff;
      padding: 8px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    #game-image {
      display: block;
      max-width: 90vw;   /* é€‚é…æ‰‹æœºå±å¹• */
      width: 800px;      /* ä½ å¯ä»¥æ”¹æˆä½ çš„å›¾ç‰‡è®¾è®¡å®½åº¦ */
      height: auto;
      cursor: pointer;
      border-radius: 4px;
    }

    #message {
      min-height: 24px;
      font-size: 16px;
      margin-bottom: 12px;
    }

    #hint {
      font-size: 12px;
      color: #888;
      margin-bottom: 24px;
      text-align: center;
      max-width: 90vw;
    }

    /* å°å°çš„ç‚¹å‡»åé¦ˆåœ†ç‚¹ï¼ˆåªåœ¨ä½ è¿™è¾¹æµ‹è¯•æ—¶æ–¹ä¾¿ï¼‰ */
    .click-marker {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid rgba(0,0,0,0.4);
      pointer-events: none;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <header>
    <h1>æ‰¾ä¸€æ‰¾å°æ¸¸æˆ ğŸ¯</h1>
    <p class="subtitle">åœ¨å›¾ç‰‡é‡Œç‚¹å¯¹ä½ç½®ï¼Œå°±ä¼š Bingoï¼</p>
  </header>

  <div id="game-container">
    <!-- â‘  è¿™é‡Œçš„ src è¦æ¢æˆä½ ä»“åº“é‡Œçš„å›¾ç‰‡è·¯å¾„ -->
    <!-- æ¯”å¦‚ä½ åœ¨ä»“åº“é‡Œå»ºäº† img æ–‡ä»¶å¤¹ï¼Œå›¾ç‰‡å« scene.jpg -->
    <img id="game-image" src="img/scene.jpg" alt="Game Image">
  </div>

  <p id="message"></p>
  <p id="hint">æç¤ºï¼šä½ å¯ä»¥åœ¨æµè§ˆå™¨æŒ‰ F12 çœ‹ Console è¾“å‡ºï¼Œæ–¹ä¾¿ä½ è‡ªå·±è°ƒè¯•åæ ‡ã€‚ç©å®¶æ˜¯çœ‹ä¸åˆ°è¿™äº›è®¾å®šçš„ã€‚</p>

  <script>
    // ==============================
    // â‘¡ åœ¨è¿™é‡Œè®¾ç½®â€œæ­£ç¡®åŒºåŸŸâ€ï¼ˆä½ å¯ä»¥æ”¹ï¼‰
    // baseWidth / baseHeightï¼šä½ å›¾ç‰‡çš„è®¾è®¡å°ºå¯¸
    // target.x / target.yï¼šæ­£ç¡®ä½ç½®ï¼ˆåœ¨è¿™ä¸ªè®¾è®¡å°ºå¯¸ä¸‹çš„åæ ‡ï¼‰
    // target.rï¼šå…è®¸è¯¯å·®åŠå¾„
    // ==============================

    const baseWidth = 800;   // æŠŠè¿™é‡Œæ”¹æˆä½ çš„å›¾ç‰‡å®½åº¦ï¼ˆåƒç´ ï¼‰
    const baseHeight = 600;  // æŠŠè¿™é‡Œæ”¹æˆä½ çš„å›¾ç‰‡é«˜åº¦ï¼ˆåƒç´ ï¼‰

    const target = {
      x: 350,   // ç›®æ ‡ä¸­å¿ƒçš„ x åæ ‡
      y: 220,   // ç›®æ ‡ä¸­å¿ƒçš„ y åæ ‡
      r: 35     // ç‚¹å‡»çš„åˆ¤å®šåŠå¾„ï¼Œè¶Šå¤§è¶Šå¥½ç‚¹ä¸­
    };

    const img = document.getElementById('game-image');
    const msg = document.getElementById('message');
    const container = document.getElementById('game-container');

    let markerEl = null; // ç”¨æ¥æ˜¾ç¤ºä½ åˆšåˆšç‚¹çš„ä½ç½®çš„å°åœ†ç‚¹

    img.addEventListener('click', function (event) {
      const rect = img.getBoundingClientRect();

      // ç‚¹å‡»ç‚¹ç›¸å¯¹äºå›¾ç‰‡å·¦ä¸Šè§’çš„åæ ‡ï¼ˆå®é™…æ˜¾ç¤ºå°ºå¯¸ï¼‰
      const clickX = event.clientX - rect.left;
      const clickY = event.clientY - rect.top;

      const displayWidth = img.clientWidth;
      const displayHeight = img.clientHeight;

      // æŠŠâ€œå®é™…æ˜¾ç¤ºå°ºå¯¸ä¸Šçš„ç‚¹å‡»ç‚¹â€æ¢ç®—åˆ°â€œè®¾è®¡å°ºå¯¸â€ä¸Š
      const scaledX = clickX * baseWidth / displayWidth;
      const scaledY = clickY * baseHeight / displayHeight;

      // è®¡ç®—ä¸ç›®æ ‡ä¸­å¿ƒçš„è·ç¦»
      const dx = scaledX - target.x;
      const dy = scaledY - target.y;
      const distance = Math.sqrt(dx * dx + dy * dy);

      // åœ¨å›¾ç‰‡ä¸Šç”»ä¸€ä¸ªå°åœˆåœˆï¼Œæ–¹ä¾¿ä½ çœ‹åˆ°åˆšåˆšç‚¹åœ¨å“ªé‡Œ
      showClickMarker(clickX, clickY);

      if (distance <= target.r) {
        msg.textContent = 'Bingoï¼ä½ ç‚¹å¯¹å•¦ï¼ğŸ‰';
      } else {
        msg.textContent = 'æ²¡ç‚¹ä¸­ï¼Œå†è¯•ä¸€æ¬¡ï½';
      }

      // ç»™ä½ è‡ªå·±è°ƒè¯•ç”¨ï¼šåœ¨ Console é‡Œçœ‹åæ ‡
      console.log(`ç‚¹å‡»ä½ç½®ï¼ˆè®¾è®¡å°ºå¯¸åæ ‡ï¼‰ï¼šx=${scaledX.toFixed(0)}, y=${scaledY.toFixed(0)}`);
    });

    // æ˜¾ç¤ºä¸€ä¸ªç‚¹å‡»çš„å°åœ†ç‚¹ï¼ˆç»™ä½ è°ƒåæ ‡ç”¨ï¼‰
    function showClickMarker(x, y) {
      if (!markerEl) {
        markerEl = document.createElement('div');
        markerEl.className = 'click-marker';
        container.appendChild(markerEl);
      }
      markerEl.style.left = x + 'px';
      markerEl.style.top = y + 'px';
    }
  </script>
</body>
</html>
