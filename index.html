<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>æ‰¾ä¸€æ‰¾å°æ¸¸æˆ | Find the Spot</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      background: #f5f5f5;
    }

    header {
      margin-top: 24px;
      text-align: center;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 24px;
    }

    p.subtitle {
      margin: 0 0 16px;
      color: #555;
      font-size: 14px;
    }

    #game-container {
      margin-top: 12px;
      margin-bottom: 16px;
      position: relative;
      display: inline-block;
      background: #fff;
      padding: 8px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    }

    #game-image {
      display: block;
      max-width: 90vw;
      width: 800px;
      height: auto;
      cursor: pointer;
      border-radius: 4px;
    }

    #message {
      min-height: 24px;
      font-size: 16px;
      margin-bottom: 12px;
    }

    #hint {
      font-size: 12px;
      color: #888;
      margin-bottom: 24px;
      text-align: center;
      max-width: 90vw;
    }

    .click-marker {
      position: absolute;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid rgba(0,0,0,0.4);
      pointer-events: none;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <header>
    <h1>GAME FIND ME</h1>
    <p class="subtitle">åœ¨å›¾ç‰‡é‡Œç‚¹å¯¹ä½ç½®ï¼Œå°±ä¼š Bingoï¼</p>
  </header>

  <div id="game-container">
    <img id="game-image" src="IMG_4835.JPG">
  </div>

  <p id="message"></p>
  <p id="hint">æç¤ºï¼šä½ å¯ä»¥åœ¨æµè§ˆå™¨æŒ‰ F12 çœ‹ Console è¾“å‡ºï¼Œæ–¹ä¾¿ä½ è‡ªå·±è°ƒè¯•åæ ‡ã€‚ç©å®¶æ˜¯çœ‹ä¸åˆ°è¿™äº›è®¾å®šçš„ã€‚</p>

  <script>
    // è¿™é‡Œç”¨ä½ ç°åœ¨çš„â€œåŸå›¾åæ ‡ç³»â€å°ºå¯¸
    const baseWidth = 1137;
    const baseHeight = 1520;

    // ä¸¤ä¸ªç›®æ ‡ç‚¹ + å„è‡ªçš„å®¹é”™èŒƒå›´
    // tolX = æ¨ªå‘å®¹é”™; tolY = çºµå‘å®¹é”™
    const targets = [
      {
        name: 'ç¬¬ä¸€ä¸ªç›®æ ‡',
        x: 69,
        y: 1222,
        tolX: 40,   // æ¨ªå‘ Â±40
        tolY: 60    // çºµå‘ Â±60ï¼ˆä½ è¯´ç¬¬ä¸€ä¸ªæƒ³å¤§ä¸€ç‚¹ï¼‰
      },
      {
        name: 'ç¬¬äºŒä¸ªç›®æ ‡',
        x: 671,
        y: 692,
        tolX: 40,   // æ¨ªå‘ Â±40
        tolY: 40    // çºµå‘ Â±40
      }
    ];

    const img = document.getElementById('game-image');
    const msg = document.getElementById('message');
    const container = document.getElementById('game-container');

    let markerEl = null;

    // è®°å½•â€œè¿™ä¸ªç›®æ ‡æœ‰æ²¡æœ‰è¢«æ‰¾åˆ°äº†â€
    let found = [false, false];  // å¯¹åº” targets[0], targets[1]
    let foundCount = 0;          // å·²ç»æ‰¾åˆ°å¤šå°‘ä¸ªä¸åŒçš„ç›®æ ‡

    img.addEventListener('click', function (event) {
      const rect = img.getBoundingClientRect();

      // ç‚¹å‡»ç‚¹ç›¸å¯¹äºå›¾ç‰‡å·¦ä¸Šè§’ï¼ˆä»¥å½“å‰æ˜¾ç¤ºå°ºå¯¸ï¼‰çš„åæ ‡
      const clickX = event.clientX - rect.left;
      const clickY = event.clientY - rect.top;

      const displayWidth = img.clientWidth;
      const displayHeight = img.clientHeight;

      // æ¢ç®—åˆ°â€œåŸå›¾åæ ‡ç³»â€
      const scaledX = clickX * baseWidth / displayWidth;
      const scaledY = clickY * baseHeight / displayHeight;

      // åœ¨å›¾ç‰‡ä¸Šç”»ä¸€ä¸ªå°åœ†ç‚¹ï¼Œæ–¹ä¾¿ä½ è‡ªå·±çœ‹ç‚¹åˆ°å“ª
      showClickMarker(clickX, clickY);

      // æ£€æŸ¥æœ‰æ²¡æœ‰å‘½ä¸­æŸä¸ªç›®æ ‡åŒºåŸŸ
      let hitIndex = -1;

      for (let i = 0; i < targets.length; i++) {
        const t = targets[i];
        const dx = Math.abs(scaledX - t.x);
        const dy = Math.abs(scaledY - t.y);

        if (dx <= t.tolX && dy <= t.tolY) {
          hitIndex = i;
          break;
        }
      }

      if (hitIndex >= 0) {
        // ç‚¹ä¸­äº†æŸä¸€ä¸ªç›®æ ‡
        if (!found[hitIndex]) {
          // ç¬¬ä¸€æ¬¡ç‚¹ä¸­è¿™ä¸ªç›®æ ‡
          found[hitIndex] = true;
          foundCount++;

          if (foundCount === 1) {
            // ç¬¬ä¸€æ¬¡æ‰¾åˆ°ä»»æ„ä¸€ä¸ªç›®æ ‡
            msg.textContent = 'ä½ æ‰¾åˆ°äº†å…¶ä¸­ä¸€ä¸ªï¼ğŸ‰';
          } else if (foundCount === 2) {
            // ç¬¬äºŒæ¬¡æ‰¾åˆ°ï¼Œè¯´æ˜ä¸¤ä¸ªéƒ½æ‰¾åˆ°äº†
            msg.textContent = 'å¤ªå¼ºäº†ï¼Œä¸¤ä¸ªéƒ½è¢«ä½ æ‰¾åˆ°äº†ï¼âœ¨';
          }
        } else {
          // è¿™ä¸ªç›®æ ‡ä»¥å‰å·²ç»è¢«æ‰¾è¿‡äº†
          if (foundCount === 1) {
            msg.textContent = 'è¿™ä¸ªä½ å·²ç»æ‰¾åˆ°è¿‡å•¦ï¼Œå†å»æ‰¾å¦ä¸€ä¸ªï½';
          } else if (foundCount === 2) {
            msg.textContent = 'ä¸¤ä¸ªéƒ½æ‰¾åˆ°äº†ï¼Œä½ å·²ç»é€šå…³å•¦ï¼ğŸ¥³';
          }
        }
      } else {
        // å®Œå…¨æ²¡ç‚¹ä¸­ä»»ä½•ç›®æ ‡
        msg.textContent = 'æ²¡ç‚¹ä¸­ï¼Œå†è¯•ä¸€æ¬¡ï¼';
      }

      // è°ƒè¯•ç”¨ï¼šåœ¨ Console çœ‹â€œåŸå›¾åæ ‡â€
      console.log(`ç‚¹å‡»ï¼ˆåŸå›¾åæ ‡ï¼‰ï¼šx=${scaledX.toFixed(0)}, y=${scaledY.toFixed(0)}`);
    });

    // æ˜¾ç¤ºç‚¹å‡»ä½ç½®çš„å°åœ†ç‚¹
    function showClickMarker(x, y) {
      if (!markerEl) {
        markerEl = document.createElement('div');
        markerEl.className = 'click-marker';
        container.appendChild(markerEl);
      }
      markerEl.style.left = x + 'px';
      markerEl.style.top = y + 'px';
    }
  </script>
</body>
</html>
